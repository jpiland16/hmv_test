<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Global</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Global</h1>

    




<section>

<header>
    
        <h2></h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="getDirStructure"><span class="type-signature"></span>getDirStructure<span class="signature">(dir, displayDirname)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Asynchronously creates a nested JS object matching the file structure of the given directory,
where folders have children iff they have subdirectories.
Does not include the parameter directory. Does not include any leaf directory that is missing
a metadata.json or quaternion_data.dat file.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>dir</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>The name of the directory to encode.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>displayDirname</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>The prefix to the filename in the ID field for each subdirectory.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="server.js.html">server.js</a>, <a href="server.js.html#line106">line 106</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Returns JS object matching the directory structure of dir.</p>
</div>



    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// Returns [{name: child1, id: child1}, {name: child2, id: child2, children: [{name: foo, id: child2/grandchild}]}]
// for the following file structure:
// parent
// |-- child1
// |    `-- metadata.json (contains no "displayName:" field)
// |    `-- quaternion_data.dat
// `-- child2
//      `-- grandchild
//          |-- metadata.json (contains "displayName": "foo")
//          `-- quaternion_data.dat
getDirStructure("parent", false)</code></pre>



        
            

    

    
    <h4 class="name" id="getFileDisplayName"><span class="type-signature"></span>getFileDisplayName<span class="signature">(filepath)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Asynchronously and returns the display name from the metadata file at the given filepath.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>filepath</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>The directory containing the metadata file which has the desired display name.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="server.js.html">server.js</a>, <a href="server.js.html#line38">line 38</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A Promise that resolves to the display name for the data file. Resolves to 'null' for directories and
rejects if the associated metadata.json file can't be parsed.</p>
</div>



    





        
            

    

    
    <h4 class="name" id="getFileList"><span class="type-signature"></span>getFileList<span class="signature">(props)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Retrieves the file tree from the server as a nested JSON file containing display names
and IDs for each file. The IDs can be used for GET requests to &quot;/api/uploadedfiles&quot;.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>props</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>An Object with mutable entries props.files.current and lastFiles
to store the JSON from the server.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="src_components_viewport-workers_NetOps.js.html">src/components/viewport-workers/NetOps.js</a>, <a href="src_components_viewport-workers_NetOps.js.html#line24">line 24</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="initializeScene"><span class="type-signature"></span>initializeScene<span class="signature">(onProgress)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Asynchronously creates a THREE.js scene with the mannequin model and Grid asset.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>onProgress</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last"><p>(Optional) A function to run on the percentage progress when loading the scene.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="src_components_visualizer_experimental_SceneInitializer.js.html">src/components/visualizer_experimental/SceneInitializer.js</a>, <a href="src_components_visualizer_experimental_SceneInitializer.js.html#line15">line 15</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A Promise that resolves to an Object with the following keys:</p>
<ul>
<li>
<p>scene: The THREE.js scene to render.</p>
</li>
<li>
<p>model: The Mannequin model to move using the target data.</p>
</li>
<li>
<p>renderer: A THREE.js Renderer that can render the scene.</p>
</li>
</ul>
</div>



    





        
            

    

    
    <h4 class="name" id="isValidDir"><span class="type-signature"></span>isValidDir<span class="signature">(dir)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Checks the target filepath to see if the directory should be displayed to the user.
Note that this does NOT check recursively, so a directory containing an invalid directory
will be shown to the user.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>dir</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>The filepath from the project root of the target directory.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="server.js.html">server.js</a>, <a href="server.js.html#line64">line 64</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A Promise that resolves to true if the filepath leads to a directory that should
be shown to the client, and resolves to false otherwise.</p>
</div>



    





        
            

    

    
    <h4 class="name" id="onSelectFileChange"><span class="type-signature"></span>onSelectFileChange<span class="signature">(props, mySelectedFile, myDisplayName)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Performs all necessary cleanup in order to switch which file is currently being
viewed by the user in the Viewport.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>props</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>An Object containing the following:</p>
<ul>
<li>
<p>props.data: a React reference whose 'current' field can be set to an empty list.</p>
</li>
<li>
<p>props.setTimeSliderValue(): a function to set the target datapoint in the new dataset.</p>
</li>
<li>
<p>props.lineNumberRef: a React reference whose 'current' is the index of the target datapoint.</p>
</li>
<li>
<p>props.setSelectedFile(): A function to set the filepath of the currently selected file.</p>
</li>
<li>
<p>props.subscribeToFile(): A function that notifies the server that we are viewing a specified file.</p>
</li>
</ul></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>mySelectedFile</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>The filepath of the target file, as described by the server in the response
of a '/get-file-list' GET request.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>myDisplayName</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>The file's display name</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="src_components_viewport-workers_FileOps.js.html">src/components/viewport-workers/FileOps.js</a>, <a href="src_components_viewport-workers_FileOps.js.html#line34">line 34</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="scanAllFiles"><span class="type-signature">(async) </span>scanAllFiles<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Writes a nested list of all current directories in ./files/ to ./fileList.json. Writes relevant info
for displaying possible dataset selections and their display names.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="server.js.html">server.js</a>, <a href="server.js.html#line149">line 149</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A Promise that resolves when the file is written and rejects in the case of a file writing error.</p>
</div>



    





        
            

    

    
    <h4 class="name" id="subscribeToFile"><span class="type-signature"></span>subscribeToFile<span class="signature">(props, mySelectedFile)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Notifies the server that this client has subscribed to the target dataset file. Unsubscribes from any
other file that the component with properties <code>props</code> is subscribed to.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>props</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>An Object containing the following:</p>
<ul>
<li>props.setFileStatus(): Sets a String to one of the following values describing the visualizer's readiness:
( <code>&quot;Processing data&quot;</code>
<code>&quot;Loading file&quot;</code>
<code>&quot;File ready&quot;</code>
<code>&quot;Loading models&quot;</code>).</li>
<li>props.getFileList(): Retreives the list of currently available files for viewing.</li>
<li>props.awaitScene: A Promise that resolves with a sceneInfo Object (see below) when the scene has been loaded.</li>
<li>props.setSceneInfo(): Stores an Object containg entries for the scene, the mannequin model, and the renderer.</li>
<li>props.onLoadBones(): Sets the state of the client so that it applies data transformations to the model's bones.
Runs any other relevant initialization code.</li>
<li>props.setTimeSliderValue(): Stores an int representing the data point to show to the user.</li>
</ul></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>mySelectedFile</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>The full filepath of the file to subscribe to, as enumerated by
the response to a GET request to 'api/get-file-list'.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="src_components_viewport-workers_NetOps.js.html">src/components/viewport-workers/NetOps.js</a>, <a href="src_components_viewport-workers_NetOps.js.html#line181">line 181</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Tutorials</h3><ul><li><a href="tutorial-https-guide.html">https-guide</a></li><li><a href="tutorial-local-server-https-guide.html">local-server-https-guide</a></li></ul><h3>Global</h3><ul><li><a href="global.html#getDirStructure">getDirStructure</a></li><li><a href="global.html#getFileDisplayName">getFileDisplayName</a></li><li><a href="global.html#getFileList">getFileList</a></li><li><a href="global.html#initializeScene">initializeScene</a></li><li><a href="global.html#isValidDir">isValidDir</a></li><li><a href="global.html#onSelectFileChange">onSelectFileChange</a></li><li><a href="global.html#scanAllFiles">scanAllFiles</a></li><li><a href="global.html#subscribeToFile">subscribeToFile</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Wed Jul 14 2021 15:42:58 GMT-0400 (Eastern Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>